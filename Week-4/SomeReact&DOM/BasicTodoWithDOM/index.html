<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Basic Todo</title>
    <style>
        body{
            background-color: black;
            color: white;
        }
        .container{
            display: flex;
            flex-direction: column;
            align-items: start;
            gap: 0.75rem;
            margin-bottom: 1.25rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <input type="text" placeholder="Title" id="title" />
        <input type="text" placeholder="Description" id="description" />
        <button id="addTodo">add todo</button>
    </div>
    <div id="todoCollection" class="container">

    </div>
    <script>

        let id = 0;
        
        const title = document.querySelector("#title");
        const description = document.querySelector("#description");
        const btn = document.querySelector("#addTodo");

        
        function createGrandChild(title,description,status){
            const todoTitle = document.createElement("p");
            const todoDescription = document.createElement("p");
            const todoStatus = document.createElement("button");
            todoTitle.textContent = title;
            todoDescription.textContent = description;
            todoStatus.innerText = status;
            createChild(todoTitle,todoDescription,todoStatus)
        }

        function createChild(title,description,button){
            const div = document.createElement("div");
            div.setAttribute("id",`todoId${++id}`)
            div.style.width = "200px";
            div.style.border = "2px solid white";
            div.style.padding = "8px 16px";
            button.addEventListener("click",(e) => {
                e.preventDefault();
                if(button.innerText === "Mark as done"){
                    button.innerText = "Done";
                    div.style.borderColor = "green";
                }
            })
            div.appendChild(title);
            div.appendChild(description);
            div.appendChild(button);
            appendChild(div);
        }

        function appendChild(div){
            const todoCollection = document.querySelector("#todoCollection");
            todoCollection.appendChild(div);
        }


        btn.addEventListener("click",(e) => {
            e.preventDefault()
            createGrandChild(title.value,description.value,"Mark as done")
        })

    </script>
</body>
</html>